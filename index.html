<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¯¸ì§€(ç¾åœ°) - ì™¸ëª¨ ê°œë°œ ì§€êµ¬ í¬í„¸</title>
    <!-- Tailwind CSS CDN & Custom Font -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Noto+Sans+KR:wght@100..900&display=swap');
        
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
            background-color: #f0f4f8; 
            color: #1e293b; 
            scroll-behavior: smooth;
        }

        /* Navy/Yellow Theme Classes */
        .header-bg { background-color: #0f172a; } 
        .primary-color { color: #facc15; } 
        .primary-bg { background-color: #facc15; }
        .data-card-bg { background-color: #ffffff; }
        .ad-banner-bg { background-color: #fffbeb; } 

        /* Face Map Container */
        .face-container {
            position: relative;
            width: 100%;
            padding-top: 137.5%; /* ì´ë¯¸ì§€ ë¹„ìœ¨ì— ë§ì¶° ì¡°ì • */
            max-width: 500px;
            margin: auto;
            /* [ì¤‘ìš”] ì‹¤ì œ ì‚¬ìš© ì‹œ: 
               1. ë³¸ì¸ì˜ ì–¼êµ´ ì§€ë„ ì´ë¯¸ì§€ë¥¼ ì´ HTML íŒŒì¼ê³¼ ê°™ì€ í´ë”ì— 'face_map.png'ë¡œ ì €ì¥í•˜ì„¸ìš”.
               2. ì•„ë˜ urlì„ url('face_map.png') ë¡œ ë³€ê²½í•˜ë©´ ì´ë¯¸ì§€ê°€ ë‚˜ì˜µë‹ˆë‹¤.
               í˜„ì¬ëŠ” ì˜ˆì‹œ ì´ë¯¸ì§€ë¥¼ ë„£ì–´ë‘ì—ˆìŠµë‹ˆë‹¤.
            */
            background-image: url('face_map.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center top;
            border-radius: 12px;
        }

        /* Face Area Clickable Overlay */
        .face-area {
            position: absolute;
            cursor: pointer;
            transition: all 0.2s;
            z-index: 10;
            border: 1px dashed rgba(250, 204, 21, 0.0); /* í‰ì†Œì—” íˆ¬ëª… */
        }
        .face-area:hover {
            opacity: 0.4;
            background-color: #facc15; 
            border: 2px dashed #ef4444; /* í˜¸ë²„ ì‹œ ë¹¨ê°„ ì ì„  */
        }
        
        /* Modal Style */
        .modal {
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 50;
        }

        /* Artwork Reveal Section Style */
        #artwork-reveal {
            min-height: 100vh;
            background-color: #1e293b; 
            color: #e2e8f0; 
            transition: opacity 1s ease-in-out;
            opacity: 0;
            padding: 4rem 1rem;
        }
        #artwork-reveal.scrolled {
            opacity: 1;
        }

        @media (min-width: 1024px) {
            .main-content {
                display: grid;
                grid-template-columns: 2fr 1fr;
            }
        }
    </style>
</head>
<body>

    <!-- Main Header -->
    <header class="header-bg shadow-lg sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center py-4">
            <h1 class="text-3xl font-extrabold primary-color tracking-widest">
                ë¯¸ì§€ (ç¾åœ°)
            </h1>
            <nav class="hidden md:block">
                <a href="#" class="text-white hover:text-yellow-400 px-3 py-2 rounded-md font-medium">ë¶„ì„ ì§€ë„</a>
                <a href="#reveal-point" class="text-white hover:text-yellow-400 px-3 py-2 rounded-md font-medium">ì‘í’ˆ ì˜ë¯¸</a>
                <a href="#" class="text-white hover:text-yellow-400 px-3 py-2 rounded-md font-medium">ê°œë°œ ìƒë‹´</a>
            </nav>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-7xl mx-auto p-4 md:p-8">
        <h2 class="text-3xl font-bold text-gray-800 mb-6 border-l-4 border-yellow-400 pl-4">
            í”„ë¦¬ë¯¸ì—„ ì™¸ëª¨ ìì‚° ê°œë°œ í˜„í™© ë³´ê³ ì„œ
        </h2>
        
        <div class="main-content gap-8">
            
            <!-- Left: Development Map -->
            <section class="data-card-bg rounded-xl shadow-2xl p-6 lg:mb-0">
                <h3 class="text-xl font-bold text-slate-800 mb-4">ê°œë°œ ëŒ€ìƒì§€ í˜„í™© ì§€ë„</h3>
                
                <div class="face-container" id="face-map-bg">
                    <!-- Interactive areas -->
                    <div class="absolute inset-0">
                        <div class="face-area" data-part="ëˆˆ" style="top: 23%; left: 18%; width: 25%; height: 8%; transform: rotate(-5deg);" title="ëˆˆ ì§€ì—­"></div>
                        <div class="face-area" data-part="ëˆˆ" style="top: 23%; right: 18%; width: 25%; height: 8%; transform: rotate(5deg);" title="ëˆˆ ì§€ì—­"></div>
                        <div class="face-area" data-part="ì½”" style="top: 32%; left: 35%; width: 30%; height: 22%;" title="ì½” ì§€ì—­"></div>
                        <div class="face-area" data-part="ì…/ì…ìˆ " style="top: 60%; left: 32%; width: 36%; height: 10%;" title="ì…ìˆ  ì§€ì—­"></div>
                        <div class="face-area" data-part="ëˆˆì¹" style="top: 18%; left: 15%; width: 30%; height: 5%; transform: rotate(-5deg);" title="ëˆˆì¹ ì§€ì—­"></div>
                        <div class="face-area" data-part="ëˆˆì¹" style="top: 18%; right: 15%; width: 30%; height: 5%; transform: rotate(5deg);" title="ëˆˆì¹ ì§€ì—­"></div>
                        <div class="face-area" data-part="ì–¼êµ´í˜•" style="top: 50%; left: 5%; width: 15%; height: 35%;" title="ìœ¤ê³½/í„±ì„ "></div>
                        <div class="face-area" data-part="ì–¼êµ´í˜•" style="top: 50%; right: 5%; width: 15%; height: 35%;" title="ìœ¤ê³½/í„±ì„ "></div>
                        <div class="face-area" data-part="ê·€" style="top: 35%; left: 0%; width: 10%; height: 15%;" title="ê·€"></div>
                        <div class="face-area" data-part="í—¤ì–´ë¼ì¸" style="top: 0%; left: 15%; width: 70%; height: 15%;" title="í—¤ì–´ë¼ì¸"></div>
                    </div>
                </div>
                <p class="mt-4 text-center text-sm text-gray-500">
                    ì§€ë„ ìœ„ì˜ ê° ì§€ì—­ì„ **í´ë¦­**í•˜ì—¬ ìˆ¨ê²¨ì§„ **ê°œë°œ ìœ„í—˜ ìš”ì†Œ**ë¥¼ í™•ì¸í•˜ì„¸ìš”.
                </p>
            </section>

            <!-- Right: Reports & Ads -->
            <section class="space-y-6">

                <!-- Comprehensive Report Card -->
                <div class="data-card-bg p-6 rounded-xl shadow-lg border-t-8 border-yellow-400">
                    <h3 class="text-xl font-bold text-slate-800 mb-4">ì¢…í•© ê°œë°œ ê°€ì¹˜ ë¶„ì„</h3>
                    <div class="space-y-3">
                        <div class="bg-gray-50 p-3 rounded-md border-l-4 border-blue-600">
                            <p class="font-semibold text-sm text-gray-700">ì§€ì—­ ê°€ì¹˜ ì§€ìˆ˜: <span class="float-right font-bold text-blue-600">â˜…â˜…â˜…â˜…â˜†</span></p>
                            <p class="text-xs text-gray-500 mt-1">íˆ¬ì ëŒ€ë¹„ ì‹¬ë¦¬ì  ë§Œì¡±ë„ ë¶ˆí™•ì‹¤, ë¦¬ìŠ¤í¬ ì¡´ì¬</p>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-md border-l-4 border-yellow-600">
                            <p class="font-semibold text-sm text-gray-700">ê¸´ê¸‰ ê°œë°œ í•„ìš”ì„±: <span class="float-right font-bold text-red-600">ë†’ìŒ (High)</span></p>
                            <p class="text-xs text-gray-500 mt-1">ì£¼ë³€ ì‹œì„  ë° ì‚¬íšŒì  ì••ë ¥ ì§€ìˆ˜ ìƒìŠ¹ ì¤‘</p>
                        </div>
                    </div>
                </div>

                <!-- Aggressive Ad Banners with People Images -->
                <div class="space-y-4">
                    <h3 class="text-xl font-bold text-slate-800 border-b pb-2">ê°œë°œ ë…ë ¤ í”„ë¦¬ë¯¸ì—„ ê´‘ê³ </h3>

                    <!-- Ad Banner 1: ìˆ˜ëŠ¥ í• ì¸ -->
                    <div class="ad-banner-bg rounded-xl shadow-md border-2 border-red-500 hover:shadow-xl transform transition duration-300 overflow-hidden group cursor-pointer">
                        <div class="flex h-32">
                            <div class="w-1/3 overflow-hidden relative">
                                <!-- Placeholder for Person Image -->
                                <img src="https://images.unsplash.com/photo-1590400946257-2b083b42a420?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80" alt="Student" class="absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                                <div class="absolute inset-0 bg-red-600 opacity-20"></div>
                            </div>
                            <div class="w-2/3 p-4 flex flex-col justify-center">
                                <h4 class="text-xl font-extrabold text-red-600 mb-1">ğŸ‰ ìˆ˜ëŠ¥ ë, ì˜ˆì¨ ì‹œì‘!</h4>
                                <p class="text-base font-bold text-slate-800 leading-tight">ì•ˆë©´ ìœ¤ê³½ / ëˆˆ ì„±í˜• <br><span class="bg-yellow-300 px-1">ìµœëŒ€ 50% í• ì¸</span></p>
                                <p class="text-xs text-gray-500 mt-2">ëŒ€í•™ ê°€ê¸° ì „, 'ìƒˆë¡œ ê³ ì¹¨' í•˜ì„¸ìš”.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Ad Banner 2: ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ì‹œìˆ  ê´‘ê³  -->
                    <div class="ad-banner-bg rounded-xl shadow-md border-2 border-blue-600 overflow-hidden cursor-pointer group">
                        <div class="relative h-40">
                             <!-- Placeholder for Person Image -->
                            <img src="https://images.unsplash.com/photo-1588510884976-7e4496b8dc31?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Model Face" class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"></div>
                            <div class="absolute bottom-0 left-0 p-4 w-full text-white">
                                <p class="text-xs font-bold bg-blue-600 inline-block px-2 py-1 rounded mb-1">AI ì •ë°€ ì§„ë‹¨</p>
                                <p class="text-lg font-bold leading-tight">ë‹¹ì‹ ì˜ ì–¼êµ´, <br><span class="text-yellow-400">ì¬ê°œë°œ ê°€ì¹˜</span>ëŠ” ì–¼ë§ˆì…ë‹ˆê¹Œ?</p>
                            </div>
                        </div>
                        <div class="p-3 bg-white">
                            <p class="text-xs text-gray-500 text-right font-semibold">#ì™¸ëª¨ì •ë³‘ #ê²½ìŸë ¥ #ì§€ê¸ˆì˜ˆì•½ì‹œ_í•„ëŸ¬ë¬´ë£Œ</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Scroll Anchor for Reveal -->
        <div id="reveal-point" class="pt-32"></div>

    </main>
    
    <!-- Artwork Revelation Section (Scroll Down Content) -->
    <section id="artwork-reveal">
        <div class="max-w-4xl mx-auto p-6 text-center">
            <h3 class="text-4xl font-extrabold text-red-400 mb-6 tracking-wider">
                ë¯¸ì§€(ç¾åœ°): ê°œë°œ ê³„íšì˜ ìˆ¨ê²¨ì§„ ë¹„ìš©
            </h3>
            <p class="text-lg font-light leading-relaxed mb-8 text-gray-300">
                ìš°ë¦¬ëŠ” ìš°ë¦¬ì˜ ì–¼êµ´ì„ 'ë•…'ì²˜ëŸ¼ ë°”ë¼ë´…ë‹ˆë‹¤. ê°€ì¹˜ë¥¼ ë†’ì´ê¸° ìœ„í•´ ëŠì„ì—†ì´ ì¬ì •ë¹„í•˜ê³ , ì‹œìˆ ì´ë¼ëŠ” ì´ë¦„ì˜ ê°œë°œì„ ê°í–‰í•©ë‹ˆë‹¤. ì‚¬íšŒì  ë¯¸ì˜ ê¸°ì¤€ì— ë§ì¶”ë ¤ëŠ” ì´ ê°•ë°•ì ì¸ ê°œë°œì€ ê²°êµ­ **ê°œì¸ì˜ ì •ì‹ ì  í† ì§€**ë¥¼ ì¹¨ë²”í•˜ê³ , **ì˜ˆìƒì¹˜ ëª»í•œ ë¶€ì‘ìš©**ì´ë¼ëŠ” ì§€ë°˜ ì¹¨í•˜ë¥¼ ê²ªê²Œ í•©ë‹ˆë‹¤.
            </p>
            <p class="text-base font-medium text-gray-400">
                ì§€ë„ì—ì„œ í™•ì¸í•œ ë¶€ì‘ìš© ì •ë³´ë“¤ì€ ìš°ë¦¬ê°€ ì™¸ëª¨ë¥¼ 'ìƒí’ˆ'ìœ¼ë¡œ ê°œë°œí•˜ë©° ì¹˜ëŸ¬ì•¼ í•˜ëŠ” ëŒ€ê°€ì…ë‹ˆë‹¤. <br>
                ëŠì„ì—†ì´ ìŸì•„ì§€ëŠ” ê´‘ê³ ì™€ ê°œë°œ ì••ë ¥ ì†ì—ì„œ, ì´ ì‘í’ˆì€ ë§¹ëª©ì ì¸ íˆ¬ìë¥¼ ë©ˆì¶”ê³  ë³¸ì§ˆì  ê°€ì¹˜ë¥¼ ì„±ì°°í•˜ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.
            </p>
            <div class="mt-12">
                <a href="#" class="inline-block px-8 py-3 border border-red-500 text-red-400 font-bold rounded-full hover:bg-red-600 hover:text-white transition duration-300">
                    ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </a>
            </div>
        </div>
    </section>

    <!-- Modal for Side Effect Details -->
    <div id="side-effect-modal" class="modal fixed inset-0 hidden items-center justify-center p-4">
        <div class="data-card-bg w-full max-w-lg rounded-xl shadow-2xl p-6 border-t-8 border-red-500 transform transition-all scale-95 opacity-0" id="modal-panel">
            <div class="flex justify-between items-start mb-4">
                <h4 class="text-2xl font-bold text-red-600 flex items-center">
                    âš ï¸ <span id="modal-part-name" class="ml-2"></span> ê°œë°œ ìœ„í—˜ ê³ ì§€
                </h4>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-800 text-3xl font-bold leading-none">&times;</button>
            </div>
            
            <div id="modal-content-area" class="space-y-4 bg-red-50 p-4 rounded-lg border border-red-100">
                <!-- Content will be injected here -->
                <p class="text-gray-700">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
            </div>

            <div class="mt-6 border-t pt-4">
                <p class="text-xs font-semibold text-gray-500 mb-2 text-center">â€» ë³¸ ë‚´ìš©ì€ ì‹¤ì œ ì‚¬ë¡€ ë° ì˜í•™ì  ë¶€ì‘ìš©ì— ê¸°ë°˜í•œ ê²½ê³ ì…ë‹ˆë‹¤.</p>
                <a id="news-link" href="#" target="_blank" class="block bg-gray-800 text-white text-center py-3 rounded-lg font-bold hover:bg-black transition duration-300 shadow-md">
                    ê´€ë ¨ ë¶€ì‘ìš© ë‰´ìŠ¤ ê¸°ì‚¬ í™•ì¸í•˜ê¸°
                </a>
            </div>
        </div>
    </div>

    <script>
        // API Configuration
        const apiKey = ""; // API í‚¤ëŠ” ì‹¤í–‰ í™˜ê²½ì—ì„œ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

        // Elements
        const faceAreas = document.querySelectorAll('.face-area');
        const modal = document.getElementById('side-effect-modal');
        const modalPanel = document.getElementById('modal-panel');
        const modalPartName = document.getElementById('modal-part-name');
        const modalContentArea = document.getElementById('modal-content-area');
        const newsLink = document.getElementById('news-link');
        const artworkReveal = document.getElementById('artwork-reveal');
        
        // --- Fetch Functions (ìƒëµ ì—†ì´ í¬í•¨) ---
        async function fetchWithRetry(url, options, retries = 0) {
            try {
                const response = await fetch(url, options);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                return response;
            } catch (error) {
                if (retries < 3) {
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    return fetchWithRetry(url, options, retries + 1);
                } else {
                    throw error;
                }
            }
        }

        async function fetchSideEffectData(partName) {
            const systemPrompt = "ë‹¹ì‹ ì€ ëƒ‰ì² í•œ ì˜ë£Œ ì €ë„ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì„±í˜• ìˆ˜ìˆ ì˜ ì‹¬ê°í•œ ë¶€ì‘ìš©ê³¼ ìœ„í—˜ì„±ì„ ê²½ê³ í•˜ëŠ” ì§§ê³  ì¶©ê²©ì ì¸ ë¬¸êµ¬ë¥¼ ì‘ì„±í•˜ì„¸ìš”. ê¸ì •ì ì¸ ë§ì€ í•˜ì§€ ë§ˆì„¸ìš”.";
            const userQuery = `"${partName} ì„±í˜•"ì˜ ì¹˜ëª…ì ì¸ ë¶€ì‘ìš© 1ê°€ì§€ì™€, ê·¸ ë¶€ì‘ìš©ì„ ë‹¤ë£¬ ê²ƒ ê°™ì€ ìê·¹ì ì¸ ë‰´ìŠ¤ ê¸°ì‚¬ ì œëª© 1ê°œë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì¤˜. í˜•ì‹: {"sideEffect": "...", "newsTitle": "..."}`;
            
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
                generationConfig: { responseMimeType: "application/json" }
            };

            try {
                const response = await fetchWithRetry(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                const jsonText = result.candidates?.[0]?.content?.parts?.[0]?.text;
                return jsonText ? JSON.parse(jsonText) : null;
            } catch (error) {
                console.error("API Error:", error);
                return null;
            }
        }
        
        async function renderModalContent(partName) {
            modalPartName.textContent = partName;
            modalContentArea.innerHTML = `
                <div class="animate-pulse space-y-2">
                    <div class="h-4 bg-red-200 rounded w-3/4"></div>
                    <div class="h-4 bg-red-200 rounded w-full"></div>
                </div>
            `;
            newsLink.textContent = "ë‰´ìŠ¤ ë°ì´í„° ê²€ìƒ‰ ì¤‘...";
            newsLink.href = "#";

            const data = await fetchSideEffectData(partName);
            
            if (data) {
                modalContentArea.innerHTML = `
                    <div>
                        <p class="text-xs text-red-500 font-bold uppercase tracking-wider mb-1">Risk Factor Analysis</p>
                        <p class="text-lg font-bold text-gray-900 leading-snug">"${data.sideEffect}"</p>
                    </div>
                    <div class="mt-4 pt-4 border-t border-red-200">
                        <p class="text-xs text-slate-500 font-bold mb-1">MEDIA REPORT</p>
                        <p class="text-base font-medium text-slate-800 italic bg-white p-2 rounded border border-gray-200">
                            ğŸ“° [ë‹¨ë…] ${data.newsTitle}
                        </p>
                    </div>
                `;
                newsLink.href = "https://www.google.com/search?q=" + encodeURIComponent(data.newsTitle);
                newsLink.textContent = "í•´ë‹¹ ë‰´ìŠ¤ ê¸°ì‚¬ ê²€ìƒ‰ ê²°ê³¼ ë³´ê¸° >";
            } else {
                modalContentArea.innerHTML = `<p class="text-red-600">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>`;
            }
        }
        
        // --- Event Listeners ---
        faceAreas.forEach(area => {
            area.addEventListener('click', (e) => {
                const partName = e.target.dataset.part;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
                setTimeout(() => {
                    modalPanel.classList.remove('scale-95', 'opacity-0');
                    modalPanel.classList.add('scale-100', 'opacity-100');
                }, 10);
                renderModalContent(partName);
            });
        });

        function closeModal() {
            modalPanel.classList.remove('scale-100', 'opacity-100');
            modalPanel.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }, 300);
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        window.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY + window.innerHeight;
            const revealPoint = document.getElementById('reveal-point').offsetTop + 100;
            
            if (scrollPosition > revealPoint) {
                artworkReveal.classList.add('scrolled');
            } else {
                artworkReveal.classList.remove('scrolled');
            }
        });

        // ì‚¬ìš©ì ì´ë¯¸ì§€ ì ìš© ê°€ì´ë“œ (ì½˜ì†”)
        console.log("Tip: ì‹¤ì œ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ 'face-container' ìŠ¤íƒ€ì¼ì˜ background-image URLì„ ë³€ê²½í•˜ì„¸ìš”.");
    </script>

</body>
</html>